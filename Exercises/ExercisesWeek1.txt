Kari Korpinen

Viikko 1

Teht 1

GET - pyyntö tekee mm. seuraavat
                                                                                                                                                                        
strech-display.png
www.cs.helsinki.fi/sites/default/files/root/hallinto/kuvia
GET 200 OK image/png courses:1715 Parser 1.5 KB 1.2 KB 230 ms 229 ms 229 ms

Icons-flag-Englanti.png
www.cs.helsinki.fi/sites/default/files/root/hallinto/kuvia
GET 200 OK image/png courses:383 Parser 763 B 472 B 150 ms 150 ms 150 ms0
headerbg.jpg
www.cs.helsinki.fi/sites/all/themes/acquia_cshelsinkifi/images
GET 200 OK image/jpeg courses:18 Parser 742 B 449 B 263 ms 262 ms 262 ms
form-bg.png
www.cs.helsinki.fi/sites/all/themes/acquia_cshelsinkifi/images
GET 200 OK image/png courses:1 Parser 960 B 669 B 185 ms 185 ms 185 ms0
headerbottombg2.jpg
www.cs.helsinki.fi/sites/all/themes/acquia_cshelsinkifi/images
GET 200 OK image/jpeg courses:1 Parser 638 B 345 B 191 ms 191 ms 191 ms
headerbottombg.jpg
www.cs.helsinki.fi/sites/all/themes/acquia_cshelsinkifi/images
GET 200 OK image/jpeg courses:1 Parser 629 B 337 B 139 ms 138 ms 138 ms
 
Headers - näyttää

Request URL:http://www.cs.helsinki.fi/courses
Request Method:GET
Status Code:200 OK

Request Headers view source

Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Encoding:gzip,deflate,sdch
Accept-Language:fi-FI,fi;q=0.8,en-US;q=0.6,en;q=0.4
Cache-Control:max-age=0
Connection:keep-alive
Cookie:__utma=82281481.2171319285257591000.1337809553.1337809553.1337812454.2; SESS57a5819a77579dfb1a1466ccceee22a0=9po4g84rfufm4ifubpfe69rib3; has_js=1
Host:www.cs.helsinki.fi
If-Modified-Since:Fri, 10 Jan 2014 06:19:26 GMT
If-None-Match:"d4243739c5a8d5375aadaaf2f4b439a2"
User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1769.2 Safari/537.36

Response Headers view source

Cache-Control:must-revalidate
Connection:Keep-Alive
Content-Encoding:gzip
Content-Length:7015
Content-Type:text/html; charset=utf-8
Date:Fri, 10 Jan 2014 07:20:55 GMT
ETag:"d4c8c106d01fa6dde8d1ad4f16b335aa"
Expires:Sun, 19 Nov 1978 05:00:00 GMT
Keep-Alive:timeout=5, max=100
Last-Modified:Fri, 10 Jan 2014 07:19:20 GMT
Server:Apache/2.2.22 (Ubuntu)
X-Powered-By:PHP/5.3.10-1ubuntu3.9

Response kohta palauttaa html - koodin

Haku sivulta

Request URL:http://www.cs.helsinki.fi/courses
Request Method:POST
Status Code:302 Found

Request Headers view source

Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Encoding:gzip,deflate,sdch
Accept-Language:fi-FI,fi;q=0.8,en-US;q=0.6,en;q=0.4
Cache-Control:max-age=0
Connection:keep-alive
Content-Length:120
Content-Type:application/x-www-form-urlencoded
Cookie:__utma=82281481.2171319285257591000.1337809553.1337809553.1337812454.2; SESS57a5819a77579dfb1a1466ccceee22a0=9po4g84rfufm4ifubpfe69rib3; has_js=1
Host:www.cs.helsinki.fi
Origin:http://www.cs.helsinki.fi
Referer:http://www.cs.helsinki.fi/courses
User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1769.2 Safari/537.36
Form Dataview sourceview URL encoded
search_block_form:kurssi
op:Hae
form_build_id:form-uvNBi4GL5J-cXwmmbhz0occo6kshIlPi0S93Zi3pmIw
form_id:search_block_form

Response Headers view source

Cache-Control:post-check=0, pre-check=0
Cache-Control:store, no-cache, must-revalidate
Connection:Keep-Alive
Content-Encoding:gzip
Content-Length:20
Content-Type:text/html; charset=utf-8
Date:Fri, 10 Jan 2014 07:40:20 GMT
Expires:Sun, 19 Nov 1978 05:00:00 GMT
Keep-Alive:timeout=5, max=100
Last-Modified:Fri, 10 Jan 2014 07:40:20 GMT
Location:http://www.cs.helsinki.fi/search/node/kurssi
Server:Apache/2.2.22 (Ubuntu)
Vary:Accept-Encoding
X-Powered-By:PHP/5.3.10-1ubuntu3.9

HS:n sivulla ladattu kuvatiedosto palauttaa seuraavat headerit

Request URL:http://hs13.snstatic.fi/webkuva/oletus/100/1305770599193?ts=1068
Request Method:GET
Status Code:200 OK

Request Headers view source

Accept:image/webp,*/*;q=0.8
Accept-Encoding:gzip,deflate,sdch
Accept-Language:fi-FI,fi;q=0.8,en-US;q=0.6,en;q=0.4
Connection:keep-alive
Host:hs13.snstatic.fi
Referer:http://www.hs.fi/
User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1769.2 Safari/537.36
Query String Parametersview sourceview URL encoded
ts:1068

Response Headers view source

Age:105
Cache-Control:max-age=1209600
Connection:Keep-Alive
Content-Length:3106
Content-Type:image/jpeg
Date:Fri, 10 Jan 2014 07:41:27 GMT
ETag:"09b1de944feefd5214426d31f13784cda"
Expires:Fri, 24 Jan 2014 07:41:27 GMT
Via:Sanoma-2

Teht 2

> 2+6
=> 8
Success!
> 4 * 10
=> 40
> 5 - 12
=> -7
> 40 / 4
=> 10

> "Kari"
=> "Kari"
Success!
> "Kari".reverse
=> "iraK"
> "Kari".length
=> 4
> "Kari" * 5
=> "KariKariKariKariKari"

> 40.reverse
=> #<NoMethodError: undefined method `reverse' for 40:Fixnum>
Oh no!
> 40.to_s.re­verse
=> "04"
That's better!
> []
=> []
> Lottery numbers:[12, 47, 35]
=>
#<NoMethodError: undefined method `Lottery' for main:Object>
> [12, 47, 35]
=> [12, 47, 35]
Success!
> [12, 47, 35].m­ax
=> 47

> ticket = [12, 47, 35]
=> [12, 47, 35]
Success!
> ticket
=> [12, 47, 35]
Success!
> ticket.sort
=> [12, 35, 47]

> print poem
=> "My toast has flown from my hand
And my toast has gone to the moon.
But when I saw it on television,
Planting our flag on Halley's comet,
More still did I want to eat it."
Success!
> poem['toast'] = 'honeydew'
=> "honeydew"
Success!
> print poem
=> "My honeydew has flown from my hand
And my toast has gone to the moon.
But when I saw it on television,
Planting our flag on Halley's comet,
More still did I want to eat it."
>

> poem.reverse
=> ".ti tae ot tnaw I did llits eroM
,temoc s'yellaH no galf ruo gnitnalP
,noisivelet no ti was I nehw tuB
.noom eht ot enog sah tsaot ym dnA
dnah ym morf nwolf sah wedyenoh yM"
Success!
> poem.lines.to_a.reverse
=> ["More still did I want to eat it.
", "Planting our flag on Halley's comet,
", "But when I saw it on television,
", "And my toast has gone to the moon.
", "My honeydew has flown from my hand
"]

> print poem.­lines.to_a­.reverse.join
More still did I want to eat it.
Planting our flag on Halley's comet,
But when I saw it on television,
And my honeydew has gone to the moon.
My honeydew has flown from my hand

> poem.downc­ase
=> "my honeydew has flown from my hand
and my toast has gone to the
        moon.
but when i saw it on television,
planting our flag on halley's
        comet,
more still did i want to eat it.
"
books is the wrong thing. Do books = {}
> poem.delete
=>
#<ArgumentError: wrong number of arguments>
> poem.delete.
..

books={}
=> {}
> books["Gravity's Rainbow"] = :splendid
=> :splendid
Success!
> books["Gravity's Rainbow2"] = :quite_good
=> :quite_good
> books["Gravity's Rainbow3"] = :mediocore
=> :mediocore
> books["Gravity's Rainbow4"] = :quite_not_good­
=> :quite_not_good
> books
=> {"Gravity's Rainbow"=>:splendid, "Gravity's Rainbow2"=>:quite_good, "Gravity's Rainbow3"=>:mediocore, "Gravity's Rainbow4"=>:quite_not_good}
> books.length
=> 4
> books["Gravity's Rainbow"]
=> :splendid
> books.keys
=> ["Gravity's Rainbow", "Gravity's Rainbow2", "Gravity's Rainbow3", "Gravity's Rainbow4"]
> ratings = Hash.new(0)
=> {}
Success!
> books.values.esch{ |rate| ratings[rate] += 1}
=> #<NoMethodError: undefined method `esch' for [:splendid, :quite_good, :mediocore, :quite_not_good]:Array>
> books.values.each{ |rate| ratings[rate] += 1}
=> [:splendid, :quite_good, :mediocore, :quite_not_good]
> ratings
=> {:splendid=>1, :quite_good=>1, :mediocore=>1, :quite_not_good=>1}

> 5.times {print "Odelay!"}
=> "Odelay!Odelay!Odelay!Odelay!Odelay!"

> Dir.entries "/"
=> [".", "..", "Home", "Libraries", "MouseHole", "Programs", "Tutorials", "comics.txt"]
Success!

> Dir["/*.txt"]
=> ["/comics.txt"]
 print File.read("/com­ics.txt")
=> "Achewood: http://achewood.com/
Dinosaur Comics: http://qwantz.com/
Perry Bible Fellowship: http://cheston.com/pbf/archive.html
Get Your War On: http://mnftiu.cc/"

> FileUtils.cp('/comics.txt', '/Home/comics.txt')
=> nil
Success!
> Dir["/Home/*.txt"]
=> ["/Home/comics.txt"]

> File.open("/Home/com­ics.txt", "a") do |f|
.. f << "Cat and Girl: http://catandgirl.com/"
.. end
=> #<File:/Home/comics.txt (closed)>
> print File.read("Home/comics.tx­t")
=> "Achewood: http://achewood.com/
Dinosaur Comics: http://qwantz.com/
Perry Bible Fellowship: http://cheston.com/pbf/archive.html
Get Your War On: http://mnftiu.cc/
Cat and Girl: http://catandgirl.com/"

> File.mtime("Home/comics.txt")
=> 2014-01-10 08:52:03 UTC
Success!
> File.mtime("Home/comics.txt").hour
=> 8

> def load_comics(pat­h )
.. comics ={}
.. File.foreach(path) do |line|
.... name, url = line.split(': ')
.... comics[name]=url.strip
.... end
.. comics
.. end
=> nil
> comics=load_comics('/comics.tx­t')
=> {"Achewood"=>"http://achewood.com/", "Dinosaur Comics"=>"http://qwantz.com/", "Perry Bible Fellowship"=>"http://cheston.com/pbf/archive.html", "Get Your War On"=>"http://mnftiu.cc/", "Cat and Girl"=>"http://catandgirl.com/"}
> comics
=> {"Achewood"=>"http://achewood.com/", "Dinosaur Comics"=>"http://qwantz.com/", "Perry Bible Fellowship"=>"http://cheston.com/pbf/archive.html", "Get Your War On"=>"http://mnftiu.cc/", "Cat and Girl"=>"http://catandgirl.com/"}

> require 'popup'
=> true
Success!
> Dir["/Libraries/*"]
call Popup.goto and pass in a url
> Popup.goto "http://ruby-lang.org"

> Popup.make{
.. h1 "My Links"
.. link "Go to Ruby", "http://ruby-lang.org/"
.. }

> Popup.make do
.. h1 "Thinks To Do"
.. list do
.... p "Try out Ruby"­
.... p "Ride a tiger"
.... p "{down river Euphrates}"
.... end
.. end

> Popup.make do
.. h1 "Comics on the Web"
.. list do
.... comics.each do |name, url|
...... link name, url
...... end
.... end
.. end

> Hash.new
=> {}
Success!
> class BlogEntry
.. attr_accessor :title, :time, :fulltext, :mood
.. end
=> nil

> entry=BlogEntry.new
=> #<BlogEntry:0x7a2374ad>
Success!
> entry.title="Today Mt. Hood Was Stoles!"
=> "Today Mt. Hood Was Stoles!"
> entry.time=Time.now
2014-01-10 09:18:27 +0000
Success!
> entry.mood= :sick
:sick
> entry.fulltext = "I can't believe Mt. Hood was stolen! I am speechless! It was stolen by a giraffe who drove away in his Cadillac Seville very nonchalant!!"
"I can't believe Mt. Hood was stolen! I am speechless! It was stolen by a giraffe who drove away in his Cadillac Seville very nonchalant!!"
> entry
#<BlogEntry:0x4095ece7 @time=2014-01-10 09:19:30 +0000, @title="Today Mt. Hood Was Stoles!", @fulltext="I can't believe Mt. Hood was stolen! I am speechless! It was stolen by a giraffe who drove away in his Cadillac Seville very nonchalant!!", @mood=:sick>

> class BlogEntry
.. def initialize( title, mood, fulltext)
.... @time=Time.now
.... @title, @mood, @fulltext = title,mood, fulltext
.... end
.. end
nil
> BlogEntry.new
=> #<ArgumentError: wrong number of arguments calling `initialize` (0 for 3)>
> entry2 = BlogEntry.new("I Left my Hoodie on the Mountain!", :confused, "I am never going back to that mountain and I hope a giraffe steals it.")
#<BlogEntry:0x6a2075bf @title="I Left my Hoodie on the Mountain!", @time=2014-01-10 09:24:44 +0000, @fulltext="I am never going back to that mountain and I hope a giraffe steals it.", @mood=:confused>
Success!

> blog = [entr­y, entry­2]
=> [#<BlogEntry:0x30224462 @fulltext="I can't believe Mt. Hood was stolen! I am speechless! It was stolen by a giraffe who drove away in his Cadillac Seville very nonchalant!!", @time=2014-01-10 09:29:05 UTC, @title="Today Mt. Hood Was Stolen!", @mood=:sick>, #<BlogEntry:0x19b7969e @fulltext="I am
  never going back to that mountain and I hope a giraffe steals it.", @time=2014-01-10 09:29:05 UTC, @title="I Left my Hoodie on the Mountain!", @mood=:confused>]
Success!
> next
> blog.map { |entry| entry.mood }
[:sick, :confused]
Success!
> blog.map{"Bruce Willis"}
=> ["Bruce Willis", "Bruce Willis"]
Success!
> Popup.make do
.. h1 "K blogi"
.. blog.each do |entry|
.... h2 entry.title
.... p entry.fulltext
.... p entry.time
.... end
.. end
> end
=> The code you submitted was not valid Ruby.
> Popup.make do
.. h1 "K blogi"
.. blog.each do |entry|
.... h2 entry.title
.... p entry.fulltext
.... p entry.time
.... end
.. end
> Time.now - 2.weeks
=> 2013-12-27 09:44:54 UTC
Success!

http://www.ruby-lang.org/en/documentation/quickstart/

DL is deprecated, please use Fiddle
irb(main):001:0> "Hello world"
=> "Hello world"
irb(main):002:0> puts "Hello world"
Hello world
=> nil
irb(main):003:0> 3+2
=> 5
irb(main):004:0> 3*2
=> 6
irb(main):005:0> 3**2
=> 9
irb(main):006:0> Math.sqrt(9)
=> 3.0
irb(main):007:0> a = 3**2
=> 9
irb(main):008:0> b = 4 ** 2
=> 16
irb(main):009:0> Math.sqrt(a+b)
=> 5.0
irb(main):010:0> def h
irb(main):011:1> puts "Hello World!"
irb(main):012:1> end
=> nil
irb(main):013:0> h
Hello World!
=> nil
irb(main):014:0> h()
Hello World!
=> nil
irb(main):015:0> def h(name)
irb(main):016:1> puts "Hello #{name}!"
irb(main):017:1> end
=> nil
irb(main):018:0> h("Matz")
Hello Matz!
=> nil
irb(main):019:0> def h(name="World")
irb(main):020:1> puts "Hello #{name.capitalize}!"
irb(main):021:1> end
=> nil
irb(main):022:0> h "chris"
Hello Chris!
=> nil
irb(main):023:0> h
Hello World!
=> nil
irb(main):024:0> class Greeter
irb(main):025:1> def initilialize(name="World")
irb(main):026:2> @name=name
irb(main):027:2> end
irb(main):028:1> def say_hi
irb(main):029:2> puts "Hi #{@name}!"
irb(main):030:2> end
irb(main):031:1> def say_bye
irb(main):032:2> puts "Bye #{@name}, come back soon."
irb(main):033:2> end
irb(main):034:1> end
=> nil
irb(main):035:0> say_hi
NameError: undefined local variable or method `say_hi' for main:Object
        from (irb):35
        from C:/Ruby200-x64/bin/irb:12:in `<main>'
                
irb(main):1167:0> class Greeter
irb(main):1168:1> def initialize(name="World")
irb(main):1169:2> @name=name
irb(main):1170:2> end
irb(main):1171:1> def say_hi
irb(main):1172:2> puts "Hi #{@name}!"
irb(main):1173:2> end
irb(main):1174:1> def say_bye
irb(main):1175:2> puts "Bye #{@name}, come back soon."
irb(main):1176:2> end
irb(main):1177:1> end
=> nil
irb(main):1178:0> g = Greeter.new("Pat")
=> #<Greeter:0x00000003770fa8 @name="Pat">
irb(main):1179:0> g.say_hi
Hi Pat!
=> nil
irb(main):1180:0> g.say_bye
Bye Pat, come back soon.
=> nil

irb(main):1181:0> g.@name
SyntaxError: (irb):1181: syntax error, unexpected tIVAR, expecting '('
        from C:/Ruby200-x64/bin/irb:12:in `<main>'

irb(main):1182:0> Greeter.instance_methods
=> [:initilialize, :say_hi, :say_bye, :nil?, :===, :=~, :!~, :eql?, :hash, :<=>,
 :class, :singleton_class, :clone, :dup, :taint, :tainted?, :untaint, :untrust,
:untrusted?, :trust, :freeze, :frozen?, :to_s, :inspect, :methods, :singleton_me
thods, :protected_methods, :private_methods, :public_methods, :instance_variable
s, :instance_variable_get, :instance_variable_set, :instance_variable_defined?,
:remove_instance_variable, :instance_of?, :kind_of?, :is_a?, :tap, :send, :publi
c_send, :respond_to?, :extend, :display, :method, :public_method, :define_single
ton_method, :object_id, :to_enum, :enum_for, :==, :equal?, :!, :!=, :instance_ev
al, :instance_exec, :__send__, :__id__]

irb(main):1183:0> Greeter.instance_methods(false)
=> [:initilialize, :say_hi, :say_bye]
irb(main):1184:0> g.respond_to?("name")
=> false
irb(main):1185:0> g.respond_to?("say_hi")
=> true
irb(main):1186:0> g.respond_to?("to_s")
=> true

irb(main):1187:0> class Greeter
irb(main):1188:1> attr_accessor :name
irb(main):1189:1> end
=> nil
irb(main):1190:0> g = Gteeter.new("Andy")
NameError: uninitialized constant Gteeter
        from (irb):1190
        from C:/Ruby200-x64/bin/irb:12:in `<main>'
irb(main):1191:0> g = Greeter.new("Andy")
=> #<Greeter:0x00000002d7a940 @name="Andy">
irb(main):1192:0> g.respond_to?("name")
=> true
irb(main):1193:0> g.respond_to?("name=")
=> true
irb(main):1194:0> g.say_hi
Hi Andy!
=> nil
irb(main):1195:0> g.name="Betty"
=> "Betty"
irb(main):1196:0> g
=> #<Greeter:0x00000002d7a940 @name="Betty">
irb(main):1197:0> g.name
=> "Betty"
irb(main):1198:0> g.say_hi
Hi Betty!
=> nil

ri20min.rb

#!/usr/bin/env ruby

class MegaGreeter
  attr_accessor :names

  # Create the object
  def initialize(names = "World")
    @names = names
  end

  # Say hi to everybody
  def say_hi
    if @names.nil?
      puts "..."
    elsif @names.respond_to?("each")
      # @names is a list of some kind, iterate!
      @names.each do |name|
        puts "Hello #{name}!"
      end
    else
      puts "Hello #{@names}!"
    end
  end

  # Say bye to everybody
  def say_bye
    if @names.nil?
      puts "..."
    elsif @names.respond_to?("join")
      # Join the list elements with commas
      puts "Goodbye #{@names.join(", ")}. Come back soon!"
    else
      puts "Goodbye #{@names}. Come back soon!"
    end
  end

end

if __FILE__ == $0
  mg = MegaGreeter.new
  mg.say_hi
  mg.say_bye

  # Change name to be "Zeke"
  mg.names = "Zeke"
  mg.say_hi
  mg.say_bye

  # Change the name to an array of names
  mg.names = ["Albert", "Brenda", "Charles",
    "Dave", "Engelbert"]
  mg.say_hi
  mg.say_bye

  # Change to nil
  mg.names = nil
  mg.say_hi
  mg.say_bye
end

C:\Ruby_s2013>ruby ri20min.rb
Hello World!
Goodbye World. Come back soon!
Hello Zeke!
Goodbye Zeke. Come back soon!
Hello Albert!
Hello Brenda!
Hello Charles!
Hello Dave!
Hello Engelbert!
Goodbye Albert, Brenda, Charles, Dave, Engelbert. Come back soon!
...
...

Teht3
                
---------------------------------------------------------
Jos komentona pelkkä Brewery,tulee "no database" connection ilmoitus.
yhteys tietokantaan syntyy käyttämällä aluksi esim. Brewery.count

""This is NOT a bug. It's the expected behavior. Loading an Active
Record model won't establish a connection to the database.
This is desired. ActiveRecord::Base#inspect also does not establish
a connection if there is none. That's when you see no database
connection. Calling a method that needs to retrieve data like your
#count or #connection WILL establish a connection. That's why
another call to inspect will show you what fields are available.""
----------------------------------------------------------
irb(main):002:0> Brewery
=> Brewery(no database connection)
irb(main):004:0> Brewery.count
   (0.0ms) SELECT COUNT(*) FROM "breweries"
=> 3
irb(main):005:0> Brewery
=> Brewery(id: integer, name: string, year: integer, created_at: datetime, updat
ed_at: datetime)
irb(main):006:0> Brewery.all
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries"
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1873, created_
at: "2014-01-10 21:11:34", updated_at: "2014-01-10 21:11:34">, #<Brewery id: 2,
name: "Karjala", year: 1968, created_at: "2014-01-10 21:12:04", updated_at: "201
4-01-10 21:12:04">, #<Brewery id: 3, name: "Malmgård", year: 2001, created_at: "
2014-01-10 21:12:50", updated_at: "2014-01-10 21:12:50">]>
irb(main):007:0> Brewery.count
   (0.0ms) SELECT COUNT(*) FROM "breweries"
=> 3

irb(main):008:0> Brewery.new(:name => "Stadin panimo", :year => 1997)
=> #<Brewery id: nil, name: "Stadin panimo", year: 1997, created_at: nil, update
d_at: nil>
irb(main):009:0> Brewery.all
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries"
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1873, created_
at: "2014-01-10 21:11:34", updated_at: "2014-01-10 21:11:34">, #<Brewery id: 2,
name: "Karjala", year: 1968, created_at: "2014-01-10 21:12:04", updated_at: "201
4-01-10 21:12:04">, #<Brewery id: 3, name: "Malmgård", year: 2001, created_at: "
2014-01-10 21:12:50", updated_at: "2014-01-10 21:12:50">]>
irb(main):010:0> Brewery.count
   (1.0ms) SELECT COUNT(*) FROM "breweries"
=> 3

irb(main):011:0> b = Brewery.new(:name => "Stadin panimo", :year => 1997)
=> #<Brewery id: nil, name: "Stadin panimo", year: 1997, created_at: nil, update
d_at: nil>
irb(main):012:0> b.save
   (0.0ms) begin transaction
  SQL (15.0ms) INSERT INTO "breweries" ("created_at", "name", "updated_at", "ye
ar") VALUES (?, ?, ?, ?) [["created_at", Fri, 10 Jan 2014 21:33:05 UTC +00:00],
 ["name", "Stadin panimo"], ["updated_at", Fri, 10 Jan 2014 21:33:05 UTC +00:00]
, ["year", 1997]]
   (77.0ms) commit transaction
=> true
irb(main):013:0> b
=> #<Brewery id: 4, name: "Stadin panimo", year: 1997, created_at: "2014-01-10 2
1:33:05", updated_at: "2014-01-10 21:33:05">
irb(main):014:0> Brewery.all
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries"
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1873, created_
at: "2014-01-10 21:11:34", updated_at: "2014-01-10 21:11:34">, #<Brewery id: 2,
name: "Karjala", year: 1968, created_at: "2014-01-10 21:12:04", updated_at: "201
4-01-10 21:12:04">, #<Brewery id: 3, name: "Malmgård", year: 2001, created_at: "
2014-01-10 21:12:50", updated_at: "2014-01-10 21:12:50">, #<Brewery id: 4, name:
 "Stadin panimo", year: 1997, created_at: "2014-01-10 21:33:05", updated_at: "20
14-01-10 21:33:05">]>
irb(main):015:0> Brewery.count
   (0.0ms) SELECT COUNT(*) FROM "breweries"
=> 4

irb(main):016:0> Brewery.find 1
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"id" = ? LIMIT 1 [["id", 1]]
=> #<Brewery id: 1, name: "Koff", year: 1873, created_at: "2014-01-10 21:11:34",
 updated_at: "2014-01-10 21:11:34">
irb(main):017:0> b = Brewery.find 2
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"id" = ? LIMIT 1 [["id", 2]]
=> #<Brewery id: 2, name: "Karjala", year: 1968, created_at: "2014-01-10 21:12:0
4", updated_at: "2014-01-10 21:12:04">
irb(main):018:0> b.year
=> 1968
irb(main):019:0> b.name
=> "Karjala"
irb(main):020:0> Brewery.find_by_name "Koff"
  Brewery Load (0.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"name" = 'Koff' LIMIT 1
=> #<Brewery id: 1, name: "Koff", year: 1873, created_at: "2014-01-10 21:11:34",
 updated_at: "2014-01-10 21:11:34">
irb(main):021:0> Brewery.where :name => "Koff"
  Brewery Load (0.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"name" = 'Koff'
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1873, created_
at: "2014-01-10 21:11:34", updated_at: "2014-01-10 21:11:34">]>
irb(main):022:0> Brewery.where :year => 1900..2000
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries" WHERE ("breweries"
."year" BETWEEN 1900 AND 2000)
=> #<ActiveRecord::Relation [#<Brewery id: 2, name: "Karjala", year: 1968, creat
ed_at: "2014-01-10 21:12:04", updated_at: "2014-01-10 21:12:04">, #<Brewery id:
4, name: "Stadin panimo", year: 1997, created_at: "2014-01-10 21:33:05", updated
_at: "2014-01-10 21:33:05">]>

irb(main):023:0> b = Brewery.where :name => "Koff"
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"name" = 'Koff'
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1873, created_
at: "2014-01-10 21:11:34", updated_at: "2014-01-10 21:11:34">]>
irb(main):024:0> b.year
NoMethodError: undefined method `year' for #<ActiveRecord::Relation::ActiveRecor
d_Relation_Brewery:0x00000006a03330>
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/acti
ve_record/relation/delegation.rb:121:in `method_missing'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/acti
ve_record/relation/delegation.rb:68:in `method_missing'
        from (irb):24
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/co
mmands/console.rb:90:in `start'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/co
mmands/console.rb:9:in `start'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/co
mmands.rb:62:in `<top (required)>'
        from bin/rails:4:in `require'
        from bin/rails:4:in `<main>'
irb(main):025:0> t = Brewery.where :name => "Koff"
  Brewery Load (0.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"name" = 'Koff'
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1873, created_
at: "2014-01-10 21:11:34", updated_at: "2014-01-10 21:11:34">]>
irb(main):026:0> t.first.year
=> 1873

---------------------------------------------------------
tehtävä 4

irb(main):027:0> Brewery.create(name: "Kumpulan panimo", year: 2012)
   (0.0ms) begin transaction
  SQL (3.0ms) INSERT INTO "breweries" ("created_at", "name", "updated_at", "yea
r") VALUES (?, ?, ?, ?) [["created_at", Fri, 10 Jan 2014 22:06:36 UTC +00:00],
["name", "Kumpulan panimo"], ["updated_at", Fri, 10 Jan 2014 22:06:36 UTC +00:00
], ["year", 2012]]
   (397.0ms) commit transaction
=> #<Brewery id: 5, name: "Kumpulan panimo", year: 2012, created_at: "2014-01-10
 22:06:36", updated_at: "2014-01-10 22:06:36">
irb(main):028:0> Brewery.find_by_name "Kumpulan panimo"
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"name" = 'Kumpulan panimo' LIMIT 1
=> #<Brewery id: 5, name: "Kumpulan panimo", year: 2012, created_at: "2014-01-10
 22:06:36", updated_at: "2014-01-10 22:06:36">
irb(main):029:0> b = Brewery.find_by_name "Kumpulan panimo"
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"name" = 'Kumpulan panimo' LIMIT 1
=> #<Brewery id: 5, name: "Kumpulan panimo", year: 2012, created_at: "2014-01-10
 22:06:36", updated_at: "2014-01-10 22:06:36">
irb(main):030:0> b.update(year: 2013)
   (0.0ms) begin transaction
  SQL (5.0ms) UPDATE "breweries" SET "year" = ?, "updated_at" = ? WHERE "brewer
ies"."id" = 5 [["year", 2013], ["updated_at", Fri, 10 Jan 2014 22:09:47 UTC +00
:00]]
   (74.0ms) commit transaction
=> true
irb(main):031:0> Brewery.find_by_name "Kumpulan panimo"
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"name" = 'Kumpulan panimo' LIMIT 1
=> #<Brewery id: 5, name: "Kumpulan panimo", year: 2013, created_at: "2014-01-10
 22:06:36", updated_at: "2014-01-10 22:09:47">
irb(main):032:0> b = Brewery.find_by_name "Kumpulan panimo"
  Brewery Load (1.0ms) SELECT "breweries".* FROM "breweries" WHERE "breweries".
"name" = 'Kumpulan panimo' LIMIT 1
=> #<Brewery id: 5, name: "Kumpulan panimo", year: 2013, created_at: "2014-01-10
 22:06:36", updated_at: "2014-01-10 22:09:47">
irb(main):033:0> b.destroy
   (0.0ms) begin transaction
  SQL (3.0ms) DELETE FROM "breweries" WHERE "breweries"."id" = ? [["id", 5]]
   (78.0ms) commit transaction
=> #<Brewery id: 5, name: "Kumpulan panimo", year: 2013, created_at: "2014-01-10
 22:06:36", updated_at: "2014-01-10 22:09:47">
----------------------------------------------------------

Teht 5

wadror@wadror-VirtualBox:~/Documents/ratebeer1$ rails c
Loading development environment (Rails 4.0.2)

irb(main):012:0> b = Brewery.new name:"Hartwall", year:1960
=> #<Brewery id: nil, name: "Hartwall", year: 1960, created_at: nil, updated_at: nil>

irb(main):013:0> b.save
   (0.6ms)  begin transaction
  SQL (50.9ms)  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Fri, 17 Jan 2014 22:36:46 UTC +00:00], ["name", "Hartwall"], ["updated_at", Fri, 17 Jan 2014 22:36:46 UTC +00:00], ["year", 1960]]
   (145.8ms)  commit transaction
=> true

irb(main):014:0> b = Beer.new name:"Olut1", style:"Lager"
=> #<Beer id: nil, name: "Olut1", style: "Lager", brewery_id: nil, created_at: nil, updated_at: nil>

irb(main):015:0> hart = Brewery.find_by name:"Hartwall"
  Brewery Load (1.0ms)  SELECT "breweries".* FROM "breweries" WHERE "breweries"."name" = 'Hartwall' LIMIT 1
=> #<Brewery id: 4, name: "Hartwall", year: 1960, created_at: "2014-01-17 22:36:46", updated_at: "2014-01-17 22:36:46">

irb(main):016:0> b.brewery = hart
=> #<Brewery id: 4, name: "Hartwall", year: 1960, created_at: "2014-01-17 22:36:46", updated_at: "2014-01-17 22:36:46">

irb(main):017:0> b.save
   (2.0ms)  begin transaction
  SQL (6.5ms)  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 4], ["created_at", Fri, 17 Jan 2014 22:38:13 UTC +00:00], ["name", "Olut1"], ["style", "Lager"], ["updated_at", Fri, 17 Jan 2014 22:38:13 UTC +00:00]]
   (157.4ms)  commit transaction
=> true

irb(main):018:0> b = Beer.new name:"IVB", style:"Lager"
=> #<Beer id: nil, name: "IVB", style: "Lager", brewery_id: nil, created_at: nil, updated_at: nil>

irb(main):019:0> hart.beers << b
   (0.5ms)  begin transaction
  SQL (6.3ms)  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 4], ["created_at", Fri, 17 Jan 2014 22:39:39 UTC +00:00], ["name", "IVB"], ["style", "Lager"], ["updated_at", Fri, 17 Jan 2014 22:39:39 UTC +00:00]]
   (124.8ms)  commit transaction
  Beer Load (0.5ms)  SELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = ?  [["brewery_id", 4]]
=> #<ActiveRecord::Associations::CollectionProxy [#<Beer id: 8, name: "Olut1", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:38:13", updated_at: "2014-01-17 22:38:13">, #<Beer id: 9, name: "IVB", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:39:39", updated_at: "2014-01-17 22:39:39">]>

irb(main):020:0> hart.beers.create name:"Olut3",style:"Lager"
   (0.6ms)  begin transaction
  SQL (5.7ms)  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 4], ["created_at", Fri, 17 Jan 2014 22:40:44 UTC +00:00], ["name", "Olut3"], ["style", "Lager"], ["updated_at", Fri, 17 Jan 2014 22:40:44 UTC +00:00]]
   (130.9ms)  commit transaction
=> #<Beer id: 10, name: "Olut3", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:40:44", updated_at: "2014-01-17 22:40:44">

irb(main):021:0> hart.beers
=> #<ActiveRecord::Associations::CollectionProxy [#<Beer id: 8, name: "Olut1", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:38:13", updated_at: "2014-01-17 22:38:13">, #<Beer id: 9, name: "IVB", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:39:39", updated_at: "2014-01-17 22:39:39">, #<Beer id: 10, name: "Olut3", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:40:44", updated_at: "2014-01-17 22:40:44">]>

irb(main):022:0> hart.id
=> 4

irb(main):023:0> hart2=hart.id
=> 4

irb(main):024:0> hart2
=> 4
irb(main):025:0> Breweries.delete("Hartwall")

NameError: uninitialized constant Breweries
	from (irb):25
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'

irb(main):026:0> Brewery.all
  Brewery Load (1.2ms)  SELECT "breweries".* FROM "breweries"
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1897, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 2, name: "Malmgard", year: 2001, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 3, name: "Weihenstephaner", year: 1042, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 4, name: "Hartwall", year: 1960, created_at: "2014-01-17 22:36:46", updated_at: "2014-01-17 22:36:46">]>

irb(main):027:0> Brewery.count
   (1.0ms)  SELECT COUNT(*) FROM "breweries"
=> 4

irb(main):028:0> Brewery.delete("Hartwall")
  SQL (24.1ms)  DELETE FROM "breweries" WHERE "breweries"."id" = 0
=> 0

irb(main):029:0> Brewery.all
  Brewery Load (1.2ms)  SELECT "breweries".* FROM "breweries"
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1897, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 2, name: "Malmgard", year: 2001, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 3, name: "Weihenstephaner", year: 1042, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 4, name: "Hartwall", year: 1960, created_at: "2014-01-17 22:36:46", updated_at: "2014-01-17 22:36:46">]>

irb(main):030:0> Brewery.count
   (1.1ms)  SELECT COUNT(*) FROM "breweries"
=> 4

irb(main):031:0> Brewery.delete("Hartwall".id)
NoMethodError: undefined method `id' for "Hartwall":String
	from (irb):31
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'

irb(main):032:0> Brewery.delete(("Hartwall").id)
NoMethodError: undefined method `id' for "Hartwall":String
	from (irb):32
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'

irb(main):033:0> Brewery.all
  Brewery Load (1.4ms)  SELECT "breweries".* FROM "breweries"
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1897, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 2, name: "Malmgard", year: 2001, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 3, name: "Weihenstephaner", year: 1042, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 4, name: "Hartwall", year: 1960, created_at: "2014-01-17 22:36:46", updated_at: "2014-01-17 22:36:46">]>

irb(main):034:0> Brewery.delete(id:"Hartwall")
  SQL (1.2ms)  DELETE FROM "breweries" WHERE "id"."id" = 'Hartwall'
SQLite3::SQLException: no such column: id.id: DELETE FROM "breweries" WHERE "id"."id" = 'Hartwall'
ActiveRecord::StatementInvalid: SQLite3::SQLException: no such column: id.id: DELETE FROM "breweries" WHERE "id"."id" = 'Hartwall'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/sqlite3-1.3.8/lib/sqlite3/database.rb:91:in `initialize'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/sqlite3-1.3.8/lib/sqlite3/database.rb:91:in `new'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/sqlite3-1.3.8/lib/sqlite3/database.rb:91:in `prepare'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/connection_adapters/sqlite3_adapter.rb:299:in `block in exec_query'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/connection_adapters/abstract_adapter.rb:435:in `block in log'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activesupport-4.0.2/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/connection_adapters/abstract_adapter.rb:430:in `log'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/connection_adapters/sqlite3_adapter.rb:295:in `exec_query'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/connection_adapters/sqlite3_adapter.rb:321:in `exec_delete'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/connection_adapters/abstract/database_statements.rb:107:in `delete'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `delete'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/relation.rb:434:in `delete_all'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/relation.rb:461:in `delete'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/querying.rb:7:in `delete'
	from (irb):34
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'

irb(main):035:0> g=Brewery.find_by_name("Hartwall")
  Brewery Load (1.3ms)  SELECT "breweries".* FROM "breweries" WHERE "breweries"."name" = 'Hartwall' LIMIT 1
=> #<Brewery id: 4, name: "Hartwall", year: 1960, created_at: "2014-01-17 22:36:46", updated_at: "2014-01-17 22:36:46">

irb(main):036:0> Brewery.delete(g)
  SQL (107.5ms)  DELETE FROM "breweries" WHERE "breweries"."id" = 4
=> 1

irb(main):037:0> Brewery.all
  Brewery Load (2.5ms)  SELECT "breweries".* FROM "breweries"
=> #<ActiveRecord::Relation [#<Brewery id: 1, name: "Koff", year: 1897, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 2, name: "Malmgard", year: 2001, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Brewery id: 3, name: "Weihenstephaner", year: 1042, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">]>
irb(main):038:0> Brewery.count
   (1.1ms)  SELECT COUNT(*) FROM "breweries"
=> 3

irb(main):039:0> h=Beer.where(brewery_id: hart2)
  Beer Load (1.1ms)  SELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = 4
=> #<ActiveRecord::Relation [#<Beer id: 8, name: "Olut1", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:38:13", updated_at: "2014-01-17 22:38:13">, #<Beer id: 9, name: "IVB", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:39:39", updated_at: "2014-01-17 22:39:39">, #<Beer id: 10, name: "Olut3", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:40:44", updated_at: "2014-01-17 22:40:44">]>

irb(main):040:0> h.count
   (2.3ms)  SELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = 4
=> 3
irb(main):041:0> h.each {|alkio| delete alkio }

NoMethodError: undefined method `delete' for main:Object
	from (irb):41:in `block in irb_binding'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/relation/delegation.rb:13:in `each'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/relation/delegation.rb:13:in `each'
	from (irb):41
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
irb(main):042:0> h.each {|alkio| alkio:delete }

SyntaxError: (irb):42: syntax error, unexpected ':', expecting '}'
h.each {|alkio| alkio:delete }
                      ^
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
irb(main):043:0> h.delete
ArgumentError: wrong number of arguments (0 for 1)
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/relation.rb:460:in `delete'
	from (irb):43
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
irb(main):044:0> h.each {|alkio| delete }
NameError: undefined local variable or method `delete' for main:Object
	from (irb):44:in `block in irb_binding'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/relation/delegation.rb:13:in `each'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/relation/delegation.rb:13:in `each'
	from (irb):44
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'

irb(main):045:0> h.each {|alkio| h.delete alkio }
  SQL (182.7ms)  DELETE FROM "beers" WHERE "beers"."brewery_id" = 4 AND "beers"."id" = 8
  SQL (155.5ms)  DELETE FROM "beers" WHERE "beers"."brewery_id" = 4 AND "beers"."id" = 9
  SQL (140.7ms)  DELETE FROM "beers" WHERE "beers"."brewery_id" = 4 AND "beers"."id" = 10
=> [#<Beer id: 8, name: "Olut1", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:38:13", updated_at: "2014-01-17 22:38:13">, #<Beer id: 9, name: "IVB", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:39:39", updated_at: "2014-01-17 22:39:39">, #<Beer id: 10, name: "Olut3", style: "Lager", brewery_id: 4, created_at: "2014-01-17 22:40:44", updated_at: "2014-01-17 22:40:44">]

irb(main):046:0> h=Beer.where(brewery_id: hart2)
  Beer Load (6.7ms)  SELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = 4
=> #<ActiveRecord::Relation []>
irb(main):047:0> h.count
   (1.1ms)  SELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = 4
=> 0

irb(main):048:0> Beer.brewery_id
NoMethodError: undefined method `brewery_id' for #<Class:0xb91587b8>
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
	from (irb):48
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'

irb(main):049:0> Beer.brewery_id.all
NoMethodError: undefined method `brewery_id' for #<Class:0xb91587b8>
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/activerecord-4.0.2/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
	from (irb):49
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'

irb(main):050:0> Beer
=> Beer(id: integer, name: string, style: string, brewery_id: integer, created_at: datetime, updated_at: datetime)

irb(main):051:0> Beer.name
=> "Beer"
irb(main):052:0> Beer.name.all

NoMethodError: undefined method `all' for "Beer":String
	from (irb):52
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:90:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands/console.rb:9:in `start'
	from /home/wadror/.rbenv/versions/2.0.0-p353/lib/ruby/gems/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:62:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'

irb(main):053:0> Beer.all
  Beer Load (1.2ms)  SELECT "beers".* FROM "beers"
=> #<ActiveRecord::Relation [#<Beer id: 1, name: "Iso 3", style: "Lager", brewery_id: 1, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Beer id: 2, name: "Karhu", style: "Lager", brewery_id: 1, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Beer id: 3, name: "Tuplahumala", style: "Lager", brewery_id: 1, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Beer id: 4, name: "Huvila Pale Ale", style: "Pale Ale", brewery_id: 2, created_at: "2014-01-17 21:47:23", updated_at: "2014-01-17 21:47:23">, #<Beer id: 5, name: "X Porter", style: "Porter", brewery_id: 2, created_at: "2014-01-17 21:47:24", updated_at: "2014-01-17 21:47:24">, #<Beer id: 6, name: "Hefezeizen", style: "Weizen", brewery_id: 3, created_at: "2014-01-17 21:47:24", updated_at: "2014-01-17 21:47:24">, #<Beer id: 7, name: "Helles", style: "Lager", brewery_id: 3, created_at: "2014-01-17 21:47:24", updated_at: "2014-01-17 21:47:24">]>

---------------------------------------------------------------------------------------------

